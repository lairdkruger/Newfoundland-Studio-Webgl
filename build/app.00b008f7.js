!function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],f=0,p=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([206,1]),n()}({164:function(e,t){},206:function(e,t,n){"use strict";n.r(t);n(83),n(20),n(30),n(41),n(101),n(102),n(32);n(42),n(55),n(56),n(107),n(108),n(157),n(58),n(77),n(111),n(27),n(159),n(60),n(116),n(117),n(118),n(80),n(33),n(119),n(44);var r=n(129),o=n.n(r),a=n(63),i=n.n(a),s=n(61),c=n(62),u=(n(166),n(0));function l(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function f(e,t){return p.apply(this,arguments)}function p(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new u.Cb).name=t,r.encoding=n.encoding||u.K,h(t,r,n),e.prev=4,e.next=7,Object(s.a)(t,{crossorigin:"anonymous"});case 7:return o=e.sent,r.image=o,r.needsUpdate=!0,n.renderer&&n.renderer.initTexture(r),e.abrupt("return",r);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("Could not load texture ".concat(t));case 17:case"end":return e.stop()}},e,null,[[4,14]])}),(p=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}function h(e,t,n){if("boolean"==typeof n.flipY&&(t.flipY=n.flipY),void 0!==n.mapping&&(t.mapping=n.mapping),void 0!==n.format)t.format=n.format;else{var r=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data:image\/jpeg/);t.format=r?u.sb:u.pb}n.repeat&&t.repeat.copy(n.repeat),t.wrapS=n.wrapS||u.j,t.wrapT=n.wrapT||u.j,t.minFilter=n.minFilter||u.M,t.magFilter=n.magFilter||u.L,t.generateMipmaps=!1!==n.generateMipmaps}n(82);var m=n(130),d=n.n(m),y=n(139);function v(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function g(e,t){return b.apply(this,arguments)}function b(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,o,a,i,s,c,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.renderer){e.next=3;break}throw new Error("Env map requires renderer to passed in the options for ".concat(t,"!"));case 3:if(!n.equirectangular){e.next=17;break}return e.next=6,f(t,{renderer:r});case 6:if(o=e.sent,!n.pmrem){e.next=11;break}return e.abrupt("return",x(o,r));case 11:return a=d()(o.image.naturalHeight),i=new u.Lb(a,{generateMipmaps:!0,minFilter:u.N,magFilter:u.L}),s=i.fromEquirectangularTexture(r,o),o.dispose(),o.image.data=null,e.abrupt("return",s);case 17:if(c=t,l=n.extension||".jpg",h="".concat(c.replace(/\/$/,""),"/"),m=l,p=["".concat(h,"px").concat(m),"".concat(h,"nx").concat(m),"".concat(h,"py").concat(m),"".concat(h,"ny").concat(m),"".concat(h,"pz").concat(m),"".concat(h,"nz").concat(m)],".hdr"!==l){e.next=22;break}return e.abrupt("return",new Promise(function(e,t){(new y.a).load(u.Hb,p,function(t){return e(w(t,n))},null,function(){return t(new Error("Could not load env map: ".concat(c)))})}));case 22:return e.abrupt("return",new Promise(function(e,t){(new u.o).load(p,function(t){return e(w(t,n))},null,function(){return t(new Error("Could not load env map: ".concat(c)))})}));case 23:case"end":return e.stop()}var h,m},e)}),(b=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,s,"next",e)}function s(e){v(a,r,o,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}function w(e,t){return t.encoding&&(e.encoding=t.encoding),t.format&&(e.format=t.format),t.pmrem&&(e=function(e,t){var n=new u.gb(t);n.compileCubemapShader();var r=n.fromCubemap(e);return n.dispose(),e.dispose(),e.image.data=null,r.texture}(e,t.renderer)),e}function x(e,t){var n=new u.gb(t);n.compileEquirectangularShader();var r=n.fromEquirectangular(e);return n.dispose(),e.dispose(),e.image.data=null,r.texture}function k(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){P(a,r,o,i,s,"next",e)}function s(e){P(a,r,o,i,s,"throw",e)}i(void 0)})}}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var M=0;function D(e){return"__private_"+M+++"_"+e}var z=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,A,{writable:!0,value:[]}),Object.defineProperty(this,U,{writable:!0,value:{}}),Object.defineProperty(this,I,{writable:!0,value:[]}),Object.defineProperty(this,V,{writable:!0,value:10}),Object.defineProperty(this,K,{writable:!0,value:[]}),this.get=function(e){if(!e)throw new TypeError("Must specify an URL for AssetManager.get()");if(!(e in _(t,U)[U]))throw new Error("The asset ".concat(e," is not in the loaded files."));return _(t,U)[U][e]}}var t,n,r,a,u,l;return t=e,(n=[{key:"addProgressListener",value:function(e){if("function"!=typeof e)throw new TypeError("onProgress must be a function");_(this,I)[I].push(e)}},{key:"queue",value:function(e){var t=e.url,n=e.type,r=R(e,["url","type"]);if(!t)throw new TypeError("Must specify a URL or opt.url for AssetManager.queue()");return this._getQueued(t)||_(this,A)[A].push(C({url:t,type:n||this._extractType(t)},r)),t}},{key:"_getQueued",value:function(e){return _(this,A)[A].find(function(t){return t.url===e})}},{key:"_extractType",value:function(e){var t=e.slice(e.lastIndexOf("."));switch(!0){case/\.(gltf|glb)$/i.test(t):return"gltf";case/\.json$/i.test(t):return"json";case/\.svg$/i.test(t):return"svg";case/\.(jpe?g|png|gif|bmp|tga|tif)$/i.test(t):return"image";case/\.(wav|mp3)$/i.test(t):return"audio";case/\.(mp4|webm|ogg|ogv)$/i.test(t):return"video";default:throw new Error("Could not load ".concat(e,", unknown file extension!"))}}},{key:"loadSingle",value:(l=O(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.renderer,r=R(t,["renderer"]),n){e.next=3;break}throw new Error("You must provide a renderer to the loadSingle function.");case 3:return e.prev=3,o=Date.now(),e.next=7,this._loadItem(C({renderer:n},r));case 7:return _(this,U)[U][r.url]=e.sent,window.DEBUG&&console.log("\ud83d\udce6 Loaded single asset %c".concat(r.url,"%c in ").concat(i()(Date.now()-o)),"color:blue","color:black"),e.abrupt("return",r.url);case 12:e.prev=12,e.t0=e.catch(3),delete _(this,U)[U][r.url],console.error("\ud83d\udce6  Could not load ".concat(r.url,":\n").concat(e.t0));case 16:case"end":return e.stop()}},e,this,[[3,12]])})),function(e){return l.apply(this,arguments)})},{key:"load",value:(u=O(regeneratorRuntime.mark(function e(t){var n,r,a,s,c,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.renderer){e.next=3;break}throw new Error("You must provide a renderer to the load function.");case 3:if(r=_(this,A)[A].slice(),_(this,A)[A].length=0,0!==(a=r.length)){e.next=9;break}return setTimeout(function(){return _(u,I)[I].forEach(function(e){return e(1)})},0),e.abrupt("return");case 9:return s=Date.now(),e.next=12,o()(r,function(){var e=O(regeneratorRuntime.mark(function e(t,r){var o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=Date.now(),e.next=4,u._loadItem(C({renderer:n},t));case 4:_(u,U)[U][t.url]=e.sent,window.DEBUG&&u.log("Loaded %c".concat(t.url,"%c in ").concat(i()(Date.now()-o)),"color:blue","color:black"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.logError("Skipping ".concat(t.url," from asset loading:\n").concat(e.t0));case 11:s=(r+1)/a,_(u,I)[I].forEach(function(e){return e(s)});case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),{concurrency:_(this,V)[V]});case 12:window.DEBUG&&(c=_(this,K)[K].filter(function(e){return"error"===e.type}),this.groupLog("\ud83d\udce6 Assets loaded in ".concat(i()(Date.now()-s)," \u23f1 ").concat(c.length>0?"%c \u26a0\ufe0f Skipped ".concat(c.length," asset").concat(c.length>1?"s":""," "):""),c.length>0?"color:white;background:red;":""));case 13:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"_loadItem",value:(a=O(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,r=t.type,o=t.renderer,a=R(t,["url","type","renderer"]),!(n in _(this,U)[U])){e.next=3;break}return e.abrupt("return",_(this,U)[U][n]);case 3:e.t0=r,e.next="gltf"===e.t0?6:"json"===e.t0?7:"env-map"===e.t0?8:"svg"===e.t0?9:"image"===e.t0?9:"texture"===e.t0?10:"audio"===e.t0?11:"video"===e.t0?12:13;break;case 6:return e.abrupt("return",new Promise(function(e,t){(new c.a).load(n,e,null,function(e){return t(new Error("Could not load GLTF asset ".concat(n,":\n").concat(e)))})}));case 7:return e.abrupt("return",fetch(n).then(function(e){return e.json()}));case 8:return e.abrupt("return",g(n,C({renderer:o},a)));case 9:return e.abrupt("return",Object(s.a)(n,{crossorigin:"anonymous"}));case 10:return e.abrupt("return",f(n,C({renderer:o},a)));case 11:return e.abrupt("return",fetch(n).then(function(e){return e.arrayBuffer()}));case 12:return e.abrupt("return",fetch(n).then(function(e){return e.blob()}));case 13:throw new Error("Could not load ".concat(n,", the type ").concat(r," is unknown!"));case 14:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_(this,K)[K].push({type:"log",text:t})}},{key:"logError",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_(this,K)[K].push({type:"error",text:t})}},{key:"groupLog",value:function(){var e;(e=console).groupCollapsed.apply(e,arguments),_(this,K)[K].forEach(function(e){var t;(t=console)[e.type].apply(t,k(e.text))}),console.groupEnd(),_(this,K)[K].length=0}}])&&E(t.prototype,n),r&&E(t,r),e}(),A=D("queue"),U=D("cache"),I=D("onProgressListeners"),V=D("asyncConcurrency"),K=D("logs"),L=new z,B=(n(169),n(170),n(174),n(131)),q=n.n(B),F=n(132),H=n.n(F),G=n(133),W=n.n(G),N=n(134),J=n.n(N),$=n(135),Y=n.n($),X=n(136),Q=n.n(X),Z=n(137),ee=n(17),te=n(12),ne=n(5),re=n.n(ne);function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ae=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tmpVec0=new re.a.Vec3,this.tmpVec1=new re.a.Vec3,this.tmpVec2=new re.a.Vec3,this.tmpQuat0=new re.a.Vec3,this.scene=t,this.world=n,this._meshes=[],this._material=new u.V({color:65280,wireframe:!0}),this._sphereGeometry=new u.zb(1),this._boxGeometry=new u.g(1,1,1),this._planeGeometry=new u.jb(10,10,10,10),this._cylinderGeometry=new u.p(1,1,10,10)}var t,n,r;return t=e,(n=[{key:"update",value:function(){for(var e=this.world.bodies,t=this._meshes,n=this.tmpVec0,r=this.tmpQuat0,o=0,a=0;a!==e.length;a++)for(var i=e[a],s=0;s!==i.shapes.length;s++){var c=i.shapes[s];this._updateMesh(o,i,c);var u=t[o];u&&(i.quaternion.vmult(i.shapeOffsets[s],n),i.position.vadd(n,n),i.quaternion.mult(i.shapeOrientations[s],r),u.position.copy(n),u.quaternion.copy(r),"visible"in i&&(u.visible=i.visible)),o+=1}for(var l=o;l<t.length;l++){var f=t[l];f&&this.scene.remove(f)}t.length=o}},{key:"_updateMesh",value:function(e,t,n){var r=this._meshes[e];this._typeMatch(r,n)||(r&&this.scene.remove(r),r=this._meshes[e]=this._createMesh(n)),this._scaleMesh(r,n)}},{key:"_createMesh",value:function(e){var t,n=this._material,r=new u.y;switch(e.type){case re.a.Shape.types.SPHERE:t=new u.U(this._sphereGeometry,n);break;case re.a.Shape.types.BOX:t=new u.U(this._boxGeometry,n);break;case re.a.Shape.types.PLANE:t=new u.U(this._planeGeometry,n);break;case re.a.Shape.types.CONVEXPOLYHEDRON:for(var o=0;o<e.vertices.length;o++){var a=e.vertices[o];r.vertices.push(new u.Jb(a.x,a.y,a.z))}for(var i=0;i<e.faces.length;i++)for(var s=e.faces[i],c=s[0],l=1;l<s.length-1;l++){var f=s[l],p=s[l+1];r.faces.push(new u.u(c,f,p))}r.computeBoundingSphere(),r.computeFaceNormals(),t=new u.U(r,n),e.geometryId=r.id;break;case re.a.Shape.types.TRIMESH:for(var h=0;h<e.indices.length/3;h++){e.getTriangleVertices(h,this.tmpVec0,this.tmpVec1,this.tmpVec2),r.vertices.push(new u.Jb(this.tmpVec0.x,this.tmpVec0.y,this.tmpVec0.z),new u.Jb(this.tmpVec1.x,this.tmpVec1.y,this.tmpVec1.z),new u.Jb(this.tmpVec2.x,this.tmpVec2.y,this.tmpVec2.z));var m=r.vertices.length-3;r.faces.push(new u.u(m,m+1,m+2))}r.computeBoundingSphere(),r.computeFaceNormals(),t=new u.U(r,n),e.geometryId=r.id;break;case re.a.Shape.types.HEIGHTFIELD:for(var d=0;d<e.data.length-1;d++)for(var y=0;y<e.data[d].length-1;y++)for(var v=0;v<2;v++){e.getConvexTrianglePillar(d,y,0===v),this.tmpVec0.copy(e.pillarConvex.vertices[0]),this.tmpVec1.copy(e.pillarConvex.vertices[1]),this.tmpVec2.copy(e.pillarConvex.vertices[2]),this.tmpVec0.vadd(e.pillarOffset,this.tmpVec0),this.tmpVec1.vadd(e.pillarOffset,this.tmpVec1),this.tmpVec2.vadd(e.pillarOffset,this.tmpVec2),r.vertices.push(new u.Jb(this.tmpVec0.x,this.tmpVec0.y,this.tmpVec0.z),new u.Jb(this.tmpVec1.x,this.tmpVec1.y,this.tmpVec1.z),new u.Jb(this.tmpVec2.x,this.tmpVec2.y,this.tmpVec2.z));var g=r.vertices.length-3;r.faces.push(new u.u(g,g+1,g+2))}r.computeBoundingSphere(),r.computeFaceNormals(),t=new u.U(r,n),e.geometryId=r.id}return t&&this.scene.add(t),t}},{key:"_typeMatch",value:function(e,t){if(!e)return!1;var n=e.geometry;return n instanceof u.zb&&t instanceof re.a.Sphere||n instanceof u.g&&t instanceof re.a.Box||n instanceof u.jb&&t instanceof re.a.Plane||n.id===t.geometryId&&t instanceof re.a.ConvexPolyhedron||n.id===t.geometryId&&t instanceof re.a.Trimesh||n.id===t.geometryId&&t instanceof re.a.Heightfield}},{key:"_scaleMesh",value:function(e,t){var n=t.radius;switch(t.type){case re.a.Shape.types.SPHERE:e.scale.set(n,n,n);break;case re.a.Shape.types.BOX:e.scale.copy(t.halfExtents),e.scale.multiplyScalar(2);break;case re.a.Shape.types.CONVEXPOLYHEDRON:e.scale.set(1,1,1);break;case re.a.Shape.types.TRIMESH:e.scale.copy(t.scale);break;case re.a.Shape.types.HEIGHTFIELD:e.scale.set(1,1,1)}}}])&&oe(t.prototype,n),r&&oe(t,r),e}();function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach(function(t){ce(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var pe=0;function he(e){return"__private_"+pe+++"_"+e}var me=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.background,o=void 0===r?"#000":r,a=n.backgroundAlpha,i=void 0===a?1:a,s=n.fov,c=void 0===s?45:s,l=n.near,f=void 0===l?.01:l,p=n.far,h=void 0===p?5e3:p,m=ue(n,["background","backgroundAlpha","fov","near","far"]);if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,de,{writable:!0,value:[]}),Object.defineProperty(this,ye,{writable:!0,value:new u.Jb}),Object.defineProperty(this,ve,{writable:!0,value:void 0}),Object.defineProperty(this,ge,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:void 0}),this.resize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=void 0===n?t.width:n,o=e.height,a=void 0===o?t.height:o,i=e.pixelRatio,s=void 0===i?t.pixelRatio:i;return t.renderer.getPixelRatio()!==s&&t.renderer.setPixelRatio(s),t.renderer.setSize(r,a),t.camera.isPerspectiveCamera&&(t.camera.aspect=r/a),t.camera.updateProjectionMatrix(),t.composer&&t.composer.setSize(s*r,s*a),t.currentScene.traverse(function(e){"function"==typeof e.resize&&e.resize({width:r,height:a,pixelRatio:s})}),t.draw(),t},this.saveScreenshot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=void 0===n?2560:n,o=e.height,a=void 0===o?1440:o,i=e.fileName,s=void 0===i?"image.png":i;t.resize({width:r,height:a,pixelRatio:1}),t.draw();var c=t.canvas.toDataURL("image/png");t.resize(),t.draw(),we(s,c)},this.update=function(e,n,r){return t.orbitControls&&(t.orbitControls.update(),t.camera.up.fromArray(t.orbitControls.up),t.camera.position.fromArray(t.orbitControls.position),fe(t,ye)[ye].fromArray(t.orbitControls.target),t.camera.lookAt(fe(t,ye)[ye])),t.currentScene.traverse(function(t){"function"==typeof t.update&&t.update(e,n,r)}),t.world&&(t.world.step(1/60,e),t.cannonDebugRenderer&&t.cannonDebugRenderer.update(),t.world.bodies.forEach(function(t){"function"==typeof t.update&&t.update(e,n)})),fe(t,de)[de].forEach(function(t){return t(e,n,r)}),t},this.draw=function(){return t.composer?(t.currentScene!=t.oldScene&&(t.composer.passes[0]=new te.a(t.currentScene,t.camera),t.oldScene=t.currentScene),t.composer.passes.forEach(function(e,t,n){var r=t===n.length-1;e.renderToScreen=!!r}),t.composer.render()):t.renderer.render(t.currentScene,t.camera),t},this.start=function(){if(!t.isRunning)return t.renderer.setAnimationLoop(t.animate),t.isRunning=!0,t},this.stop=function(){if(t.isRunning)return t.renderer.setAnimationLoop(null),t.isRunning=!1,t},this.animate=function(e,n){if(t.isRunning){t.stats&&t.stats.begin();var r=Math.min(t.maxDeltaTime,(e-fe(t,ve)[ve])/1e3);t.time+=r,fe(t,ve)[ve]=e,t.update(r,t.time,n),t.draw(),t.stats&&t.stats.end()}},this.traverse=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.currentScene.traverse(function(t){"function"==typeof t[e]&&t[e].apply(t,r)})},this.renderer=new u.Nb(se({antialias:!0,alpha:!1,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!0},m)),this.renderer.sortObjects=!1,this.canvas=this.renderer.domElement,this.renderer.setClearColor(o,i),m.xr&&(this.renderer.xr.enabled=!0),fe(this,ge)[ge]=m.width,fe(this,be)[be]=m.height,this.maxPixelRatio=m.maxPixelRatio||2,this.maxDeltaTime=m.maxDeltaTime||1/30,this.camera=new u.hb(c,1,f,h),this.cameraTarget=new u.Jb(0,0,0),this.scenes={},this.scenesParams={},this.scenes.defaultScene=new u.ub,this.currentScene=this.scenes.defaultScene,this.oldScene=this.currentScene,this.previousSceneKeyTemp="",this.previousScenes=[],this.mouse=new u.Jb,this.mouse2D=new u.Ib,this.mouse3D=new u.Jb,this.gl=this.renderer.getContext(),this.time=0,this.isRunning=!1,fe(this,ve)[ve]=performance.now(),window.addEventListener("mousemove",this.onMouseMove.bind(this),!1),window.addEventListener("resize",this.resize),window.addEventListener("orientationchange",this.resize),this.resize(),this.touchHandler=H()(this.canvas,{target:this.canvas,filtered:!0}),this.isDragging=!1,this.touchHandler.on("start",function(e,n){t.isDragging=!0,t.traverse("onPointerDown",e,n)}),this.touchHandler.on("move",function(e,n){return t.traverse("onPointerMove",e,n)}),this.touchHandler.on("end",function(e,n){t.isDragging=!1,t.traverse("onPointerUp",e,n)}),m.postprocessing&&(this.composer=new ee.a(this.renderer),this.composer.addPass(new te.a(this.currentScene,this.camera))),m.orbitControls&&(this.orbitControls=q()(se({element:this.canvas,parent:window,distance:4},m.orbitControls instanceof Object?m.orbitControls:{})),this.camera.position.fromArray(this.orbitControls.position),this.camera.lookAt((new u.Jb).fromArray(this.orbitControls.target))),m.world&&(this.world=m.world,m.showWorldWireframes&&(this.cannonDebugRenderer=new ae(this.currentScene,this.world))),m.showFps&&(this.stats=new J.a,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),m.controls){var d=Y()(m.controls);if(this.controls=m.hideControls?d:Q()(d,{expanded:!m.closeControls}),!m.hideControls){var y=document.createElement("style");y.type="text/css",y.innerHTML='\n          [class^="controlPanel-"] [class*="__field"]::before {\n            content: initial !important;\n          }\n          [class^="controlPanel-"] [class*="__labelText"] {\n            text-indent: 6px !important;\n          }\n          [class^="controlPanel-"] [class*="__field--button"] > button::before {\n            content: initial !important;\n          }\n        ',document.head.appendChild(y)}}var v=Object(Z.getGPUTier)({glContext:this.renderer.getContext()});this.gpu={name:v.type,tier:Number(v.tier.slice(-1)),isMobile:v.tier.toLowerCase().includes("mobile")}}var t,n,r;return t=e,(n=[{key:"onMouseMove",value:function(e){var t=document.getElementById("webgl-canvas"),n=t.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top;this.mouse.x=r*t.width/t.clientWidth,this.mouse.y=o*t.height/t.clientHeight,this.mouse2D.x=r*t.width/t.clientWidth,this.mouse2D.y=o*t.height/t.clientHeight,this.normalizeMouse2D(t)}},{key:"normalizeMouse2D",value:function(e){this.mouse2D.x=this.mouse2D.x/e.width-.5,this.mouse2D.y=this.mouse2D.y/e.height-.5}},{key:"updateMouse3D",value:function(){this.mouse.unproject(this.camera),this.mouse.sub(this.camera.position).normalize();this.camera.position.z,this.mouse.z;this.mouse3D.copy(this.camera.position).add(this.mouse.multiplyScalar(2))}},{key:"onUpdate",value:function(e){fe(this,de)[de].push(e)}},{key:"offUpdate",value:function(e){var t=fe(this,de)[de].indexOf(e);-1!==t&&fe(this,de)[de].splice(t,1)}},{key:"width",get:function(){return fe(this,ge)[ge]||window.innerWidth}},{key:"height",get:function(){return fe(this,be)[be]||window.innerHeight}},{key:"pixelRatio",get:function(){return Math.min(this.maxPixelRatio,window.devicePixelRatio)}},{key:"cursor",get:function(){return this.canvas.style.cursor},set:function(e){this.canvas.style.cursor=e||null}}])&&le(t.prototype,n),r&&le(t,r),e}(),de=he("updateListeners"),ye=he("tmpTarget"),ve=he("lastTime"),ge=he("width"),be=he("height");function we(e,t){var n=W()(t),r=document.createElement("a");r.download=e,r.href=window.URL.createObjectURL(n),r.onclick=setTimeout(function(){window.URL.revokeObjectURL(n),r.removeAttribute("href")},0),r.click()}var xe=new me({canvas:document.querySelector("#webgl-canvas"),alpha:!0,background:"#000",backgroundAlpha:1,postprocessing:!0,orbitControls:!1}),ke=n(140);n(126);var Se=n(23);function Pe(e,t){var n=new Se.a(Oe);n.uniforms.movement.value=.1,n.uniforms.intensity.value=.1,e.composer.addPass(n),e.onUpdate(function(e,t){return function(e){n.uniforms.movement.value+=e}(e)})}var Oe={uniforms:{tDiffuse:{value:null},movement:{value:0},intensity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float movement;","uniform float intensity;","varying vec2 vUv;","float random( vec2 p ) {","vec2 K1 = vec2(23.14069263277926, 2.665144142690225);","return fract( cos( dot(p,K1) ) * 12345.6789 );","}","void main() {","vec4 color = texture2D( tDiffuse, vUv );","vec2 uvRandom = vUv;","uvRandom.y *= random( vec2(uvRandom.y,movement) );","color.rgb += random( uvRandom ) * intensity;","gl_FragColor = vec4( color );","}"].join("\n")};n(127),n(128);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=L.queue({url:"assets/obj/wolf.glb",type:"gltf"}),ze=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ee(this,_e(t).call(this,n))).webgl=e,r.options=n,r.shaders={},r.basicMaterialsReady={},r.shaderMaterialsReady={},r.addGLTF(De),r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,u["z"]),n=t,(r=[{key:"addGLTF",value:function(e){var t=this;(new c.a).load(e,function(e){t.gltf=e,t.gltfScene=e.scene;var n=(new u.f).setFromObject(t.gltfScene),r=n.getCenter(new u.Jb),o=n.getSize(new u.Jb),a=Math.max(o.x,o.y,o.z);t.gltfScene.scale.multiplyScalar(1/a),n.setFromObject(t.gltfScene),n.getCenter(r),n.getSize(o),t.gltfScene.position.y-=.1,t.add(t.gltfScene),t.gltfLoaded=!0,t.wolf=t.gltfScene.getObjectByName("Wolf"),t.wolfSkeleton=t.gltfScene.getObjectByName("Wolf_Skeleton"),t.rock=t.gltfScene.getObjectByName("Rock"),t.createMaterials(),t.initAnimations()},function(e){},function(e){console.log(e)})}},{key:"createMaterials",value:function(){this.createWolfMaterial(),this.createRockMaterial()}},{key:"createWolfMaterial",value:function(){var e;this.wolfMaterialKey="wolfMaterial","landing"==this.options.scene&&function(t){e=new u.W({color:16777215,skinning:!0,wireframe:!1});var n=[{from:"#include <common>",to:"\n                #include <common>\n                /* custom uniforms go here */\n\n                uniform float uTime;\n              "},{from:"#include <color_fragment>",to:"\n                #include <color_fragment>\n                /* set diffuseColor.rgb here */\n\n                {\n                /*\n                  float fluctuate = (sin(uTime) + 1.0) / 2.0;\n                  diffuseColor.rgb = vec3(0.0, 0.0, 0.0);\n                */\n                }\n              "}];e.onBeforeCompile=function(r){n.forEach(function(e){r.fragmentShader=r.fragmentShader.replace(e.from,e.to)}),r.uniforms.uTime={value:0},t.shaders[t.wolfMaterialKey]=r,t.shaderMaterialsReady[t.wolfMaterialKey]=e}}(this),"about"==this.options.scene&&function(t){var n=new u.o,r=(t.options.skyIndex,n.load(["assets/textures/standard/colourBars_square.jpg","assets/textures/standard/colourBars_square.jpg","assets/textures/standard/colourBars_square.jpg","assets/textures/standard/colourBars_square.jpg","assets/textures/standard/colourBars_square.jpg","assets/textures/standard/colourBars_square.jpg"]));r.mapping=u.m,e=new u.V({envMap:r,reflectivity:1,skinning:!0})}(this),"work"==this.options.scene&&function(t){var n=new u.o,r=t.options.skyIndex,o=n.load(["assets/textures/skyboxes/starscape"+r+"/right.png","assets/textures/skyboxes/starscape"+r+"/left.png","assets/textures/skyboxes/starscape"+r+"/top.png","assets/textures/skyboxes/starscape"+r+"/bottom.png","assets/textures/skyboxes/starscape"+r+"/front.png","assets/textures/skyboxes/starscape"+r+"/back.png"]);e=new u.V({envMap:o,reflectivity:1,skinning:!0});var a=[{from:"#include <common>",to:"\n                #include <common>\n                /* custom uniforms go here */\n\n                uniform float uTime;\n              "},{from:"#include <color_fragment>",to:"\n                #include <color_fragment>\n                /* set diffuseColor.rgb here */\n\n                {\n                /*\n                  float fluctuate = (sin(uTime) + 1.0) / 2.0;\n                  diffuseColor.rgb = vec3(0.0, 0.0, 0.0);\n                */\n                }\n              "}];e.onBeforeCompile=function(n){a.forEach(function(e){n.fragmentShader=n.fragmentShader.replace(e.from,e.to)}),n.uniforms.uTime={value:0},t.shaders[t.wolfMaterialKey]=n,t.shaderMaterialsReady[t.wolfMaterialKey]=e}}(this),"contact"==this.options.scene&&function(t){e=new u.V({color:15728640,skinning:!0,wireframe:!0});var n=[{from:"#include <common>",to:"\n                #include <common>\n                /* custom uniforms go here */\n\n                uniform float uTime;\n              "},{from:"#include <color_fragment>",to:"\n                #include <color_fragment>\n                /* set diffuseColor.rgb here */\n\n                {\n                /*\n                  float fluctuate = (sin(uTime) + 1.0) / 2.0;\n                  diffuseColor.rgb = vec3(0.0, 0.0, 0.0);\n                */\n                }\n              "}];e.onBeforeCompile=function(r){n.forEach(function(e){r.fragmentShader=r.fragmentShader.replace(e.from,e.to)}),r.uniforms.uTime={value:0},t.shaders[t.wolfMaterialKey]=r,t.shaderMaterialsReady[t.wolfMaterialKey]=e}}(this),this.wolf.material=e}},{key:"createRockMaterial",value:function(){var e,t;function n(t){var n=new u.o,r=t.options.skyIndex;if(t.options.noSun)var o=n.load(["assets/textures/skyboxes/starscape"+r+"/right.png","assets/textures/skyboxes/starscape"+r+"/left_no_sun.png","assets/textures/skyboxes/starscape"+r+"/top.png","assets/textures/skyboxes/starscape"+r+"/bottom.png","assets/textures/skyboxes/starscape"+r+"/front.png","assets/textures/skyboxes/starscape"+r+"/back.png"]);else o=n.load(["assets/textures/skyboxes/starscape"+r+"/right.png","assets/textures/skyboxes/starscape"+r+"/left.png","assets/textures/skyboxes/starscape"+r+"/top.png","assets/textures/skyboxes/starscape"+r+"/bottom.png","assets/textures/skyboxes/starscape"+r+"/front.png","assets/textures/skyboxes/starscape"+r+"/back.png"]);o.mapping=u.m,e=new u.V({envMap:o,reflectivity:1})}this.reflectionMaterialKey="reflectionMaterial","landing"==this.options.scene&&n(this),"about"==this.options.scene&&((t=(new u.o).load(["assets/textures/standard/static.jpg","assets/textures/standard/static.jpg","assets/textures/standard/static.jpg","assets/textures/standard/static.jpg","assets/textures/standard/static.jpg","assets/textures/standard/static.jpg"])).mapping=u.m,e=new u.V({envMap:t,reflectivity:1})),"work"==this.options.scene&&function(t){var n=new u.o,r=t.options.skyIndex;if(t.options.noSun)var o=n.load(["assets/textures/skyboxes/starscape"+r+"/right.png","assets/textures/skyboxes/starscape"+r+"/left_no_sun.png","assets/textures/skyboxes/starscape"+r+"/top.png","assets/textures/skyboxes/starscape"+r+"/bottom.png","assets/textures/skyboxes/starscape"+r+"/front.png","assets/textures/skyboxes/starscape"+r+"/back.png"]);else o=n.load(["assets/textures/skyboxes/starscape"+r+"/right.png","assets/textures/skyboxes/starscape"+r+"/left.png","assets/textures/skyboxes/starscape"+r+"/top.png","assets/textures/skyboxes/starscape"+r+"/bottom.png","assets/textures/skyboxes/starscape"+r+"/front.png","assets/textures/skyboxes/starscape"+r+"/back.png"]);o.mapping=u.m,e=new u.V({color:0,envMap:o,reflectivity:.66})}(this),"contact"==this.options.scene&&n(this),this.rock.material=e,this.basicMaterialsReady[this.reflectionMaterialKey]=e}},{key:"updateUniforms",value:function(e){this.wolfMaterialKey in this.shaderMaterialsReady&&(this.shaders[this.wolfMaterialKey].uniforms.uTime.value+=e)}},{key:"initAnimations",value:function(){this.mixer=new u.c(this.gltfScene),this.clips=this.gltf.animations,this.rockPoseClip=u.b.findByName(this.clips,"Rock Pose FK"),this.rockPoseAction=this.mixer.clipAction(this.rockPoseClip),this.rockPoseAction.play()}},{key:"onPointerDown",value:function(e,t){var n=Ce(t,2);n[0],n[1]}},{key:"onPointerMove",value:function(e,t){var n=Ce(t,2);n[0],n[1]}},{key:"onPointerUp",value:function(e,t){var n=Ce(t,2);n[0],n[1]}},{key:"update",value:function(e,t){this.updateUniforms(e),this.mixer&&this.mixer.update(e)}}])&&Re(n.prototype,r),o&&Re(n,o),t}();function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ie(this,Ve(t).call(this,n))).webgl=e,r.options=n,r.shaders={},r.shaderMaterialsReady={},r.init(),r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,u["z"]),n=t,(r=[{key:"init",value:function(){var e=this;this.skyMaterialKey="skyMaterial";var t=new u.o,n=this.options.skyIndex;this.skyBoxTexture=t.load(["assets/textures/skyboxes/starscape"+n+"/right.png","assets/textures/skyboxes/starscape"+n+"/left.png","assets/textures/skyboxes/starscape"+n+"/top.png","assets/textures/skyboxes/starscape"+n+"/bottom.png","assets/textures/skyboxes/starscape"+n+"/front.png","assets/textures/skyboxes/starscape"+n+"/back.png"]);var r=new u.zb(200,1,1),o=new u.V({side:u.d,envMap:this.skyBoxTexture}),a=[{from:"#include <common>",to:"\n                #include <common>\n                /* custom uniforms go here */\n\n                uniform float uTime;\n              "},{from:"#include <color_fragment>",to:"\n                #include <color_fragment>\n                /* set diffuseColor.rgb here */\n\n                {\n                  float fluctuate = (sin(uTime) + 1.0) / 4.0;\n\n                  diffuseColor.rgb = vec3(1.0, 1.0, 1.0);\n                }\n              "}];o.onBeforeCompile=function(t){a.forEach(function(e){t.fragmentShader=t.fragmentShader.replace(e.from,e.to)}),t.uniforms.uTime={value:0},e.shaders[e.skyMaterialKey]=t,e.shaderMaterialsReady[e.skyMaterialKey]=o};var i=new u.U(r,o);this.add(i)}},{key:"updateUniforms",value:function(e){this.skyMaterialKey in this.shaderMaterialsReady&&(this.shaders[this.skyMaterialKey].uniforms.uTime.value+=e)}},{key:"update",value:function(e,t){this.updateUniforms(e)}}])&&Ue(n.prototype,r),o&&Ue(n,o),t}();function Be(e){var t=new u.s(16777215,1);t.position.set(-1,0,-1),e.add(t)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fe=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sceneKey="landingScene",xe.scenes[this.sceneKey]=new u.ub,this.scene=xe.scenes[this.sceneKey],this.initScene(),xe.scenesParams[this.sceneKey]=this}var t,n,r;return t=e,(n=[{key:"initScene",value:function(){this.setCamera(),Be(this.scene),this.landingWolf=new ze(xe,{scene:"landing",skyIndex:"3",noSun:!0}),this.scene.add(this.landingWolf),this.landingSkybox=new Le(xe,{scene:"landing",skyIndex:"3"}),this.scene.add(this.landingSkybox)}},{key:"setCamera",value:function(){xe.orbitControls?(xe.orbitControls.position=[1.1770132413546304,.657532091665101,.04683957130027806],xe.orbitControls.distance=1.240000000000002,xe.orbitControls.target=[0,-.2,0]):(this.cameraPosition={x:1.1,y:.55,z:.02},this.cameraTarget={x:0,y:0,z:0})}},{key:"postprocessing",value:function(){xe.composer=new ee.a(xe.renderer);var e,t,n,r=new te.a(this.scene,xe.camera);xe.composer.addPass(r),e=xe,this.scene,t={resolution:new u.Ib(window.innerWidth,window.innerHeight),strength:1.2,radius:.5,threshold:.7},n=new ke.a(t.resolution,t.strength,t.radius,t.threshold),e.composer.addPass(n),Pe(xe)}}])&&qe(t.prototype,n),r&&qe(t,r),e}());function He(e,t){var n=new Se.a(Ge);n.uniforms.distortion.value=t.distortion,n.uniforms.distortion2.value=t.distortion2,n.uniforms.speed.value=t.speed,n.uniforms.rollSpeed.value=t.rollSpeed,e.composer.addPass(n);var r=new Se.a(We);e.composer.addPass(r),e.onUpdate(function(e,t){return function(e){n.uniforms.time.value+=e}(e)})}var Ge={uniforms:{tDiffuse:{type:"t",value:null},time:{type:"f",value:0},distortion:{type:"f",value:3},distortion2:{type:"f",value:5},speed:{type:"f",value:.2},rollSpeed:{type:"f",value:.1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float time;","uniform float distortion;","uniform float distortion2;","uniform float speed;","uniform float rollSpeed;","varying vec2 vUv;","vec3 mod289(vec3 x) {","  return x - floor(x * (1.0 / 289.0)) * 289.0;","}","vec2 mod289(vec2 x) {","  return x - floor(x * (1.0 / 289.0)) * 289.0;","}","vec3 permute(vec3 x) {","  return mod289(((x*34.0)+1.0)*x);","}","float snoise(vec2 v)","  {","  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0","                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)","                     -0.577350269189626,  // -1.0 + 2.0 * C.x","                      0.024390243902439); // 1.0 / 41.0","  vec2 i  = floor(v + dot(v, C.yy) );","  vec2 x0 = v -   i + dot(i, C.xx);","  vec2 i1;","  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);","  vec4 x12 = x0.xyxy + C.xxzz;"," x12.xy -= i1;","  i = mod289(i); // Avoid truncation effects in permutation","  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))","\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));","  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);","  m = m*m ;","  m = m*m ;","  vec3 x = 2.0 * fract(p * C.www) - 1.0;","  vec3 h = abs(x) - 0.5;","  vec3 ox = floor(x + 0.5);","  vec3 a0 = x - ox;","  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );","  vec3 g;","  g.x  = a0.x  * x0.x  + h.x  * x0.y;","  g.yz = a0.yz * x12.xz + h.yz * x12.yw;","  return 130.0 * dot(m, g);","}","void main() {","vec2 p = vUv;","float ty = time*speed;","float yt = p.y - ty;","float offset = snoise(vec2(yt*3.0,0.0))*0.2;","offset = offset*distortion * offset*distortion * offset;","offset += snoise(vec2(yt*50.0,0.0))*distortion2*0.001;","gl_FragColor = texture2D(tDiffuse,  vec2(fract(p.x + offset),fract(p.y-time*rollSpeed) ));","}"].join("\n")},We={uniforms:{tDiffuse:{type:"t",value:null},time:{type:"f",value:0},nIntensity:{type:"f",value:.5},sIntensity:{type:"f",value:.05},sCount:{type:"f",value:4096},grayscale:{type:"i",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float time;","uniform bool grayscale;","uniform float nIntensity;","uniform float sIntensity;","uniform float sCount;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 cTextureScreen = texture2D( tDiffuse, vUv );","float x = vUv.x * vUv.y * time *  1000.0;","x = mod( x, 13.0 ) * mod( x, 123.0 );","float dx = mod( x, 0.01 );","vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx * 100.0, 0.0, 1.0 );","vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );","cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;","cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );","if( grayscale ) {","cResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );","}","gl_FragColor =  vec4( cResult, cTextureScreen.a );","}"].join("\n")};function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Je=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sceneKey="aboutScene",xe.scenes[this.sceneKey]=new u.ub,this.scene=xe.scenes[this.sceneKey],this.initScene(),xe.scenesParams[this.sceneKey]=this}var t,n,r;return t=e,(n=[{key:"initScene",value:function(){var e,t;this.setCamera(),e=this.scene,(t=new u.s(16777215,1)).position.set(-1,1,-1),e.add(t),this.aboutWolf=new ze(xe,{scene:"about",skyIndex:"15"}),this.scene.add(this.aboutWolf)}},{key:"setCamera",value:function(){xe.orbitControls?(xe.orbitControls.position=[.37272409090935477,-.032702695716682634,.4033570652813696],xe.orbitControls.distance=.5,xe.orbitControls.target=[.2,0,0]):(this.cameraPosition={x:.4,y:0,z:.4},this.cameraTarget={x:0,y:0,z:-.4})}},{key:"postprocessing",value:function(){xe.composer=new ee.a(xe.renderer);var e=new te.a(this.scene,xe.camera);xe.composer.addPass(e),He(xe,{distortion:.8,distortion2:1,speed:.5,rollSpeed:0}),Pe(xe)}}])&&Ne(t.prototype,n),r&&Ne(t,r),e}());function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ye=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sceneKey="workScene",xe.scenes[this.sceneKey]=new u.ub,this.scene=xe.scenes[this.sceneKey],this.initScene(),xe.scenesParams[this.sceneKey]=this}var t,n,r;return t=e,(n=[{key:"initScene",value:function(){var e,t;this.setCamera(),e=this.scene,(t=new u.s(16777215,1)).position.set(1,1,1),e.add(t),this.workWolf=new ze(xe,{scene:"work",skyIndex:"16",noSun:!1}),this.scene.add(this.workWolf),this.workSkybox=new Le(xe,{scene:"work",skyIndex:"16",noSun:!1}),this.scene.add(this.workSkybox)}},{key:"setCamera",value:function(){xe.orbitControls?(xe.orbitControls.position=[-.2078281158005838,.017467252995429144,-.28874058085994647],xe.orbitControls.distance=.5,xe.orbitControls.target=[.2,0,0]):(this.cameraPosition={x:-.2,y:.2,z:-.2},this.cameraTarget={x:.2,y:.02,z:-.05})}},{key:"postprocessing",value:function(){xe.composer=new ee.a(xe.renderer);var e=new te.a(this.scene,xe.camera);xe.composer.addPass(e),Pe(xe)}}])&&$e(t.prototype,n),r&&$e(t,r),e}());function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qe=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sceneKey="contactScene",xe.scenes[this.sceneKey]=new u.ub,this.scene=xe.scenes[this.sceneKey],this.initScene(),xe.scenesParams[this.sceneKey]=this}var t,n,r;return t=e,(n=[{key:"initScene",value:function(){this.setCamera(),Be(this.scene),this.sky="7",this.contactWolf=new ze(xe,{scene:"contact",skyIndex:this.sky,noSun:!1}),this.scene.add(this.contactWolf),this.contactSkybox=new Le(xe,{scene:"contact",skyIndex:this.sky}),this.scene.add(this.contactSkybox)}},{key:"setCamera",value:function(){xe.orbitControls?(xe.orbitControls.position=[1.1770132413546304,.657532091665101,.04683957130027806],xe.orbitControls.distance=1.240000000000002,xe.orbitControls.target=[0,-.2,0]):(this.cameraPosition={x:.2,y:-.2,z:-.2},this.cameraTarget={x:0,y:-.5,z:.05})}},{key:"postprocessing",value:function(){xe.composer=new ee.a(xe.renderer);var e=new te.a(this.scene,xe.camera);xe.composer.addPass(e),Pe(xe)}}])&&Xe(t.prototype,n),r&&Xe(t,r),e}());function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var et=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.webgl=t,this.staticPosition=this.webgl.currentSceneParams.cameraPosition,this.webgl.cameraTarget=this.webgl.currentSceneParams.cameraTarget,this.easeTarget=new u.Jb,this.movementIntensity=.05,this.ease=.05,this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this;window.DEBUG||this.webgl.onUpdate(function(t,n){return e.updateCamera()})}},{key:"updateCamera",value:function(){if(this.webgl.camera.inTransition)this.webgl.mouse2D.x=0,this.webgl.mouse2D.y=0,this.easeTarget.x=0,this.easeTarget.y=0,this.easeTarget.z=0;else{this.staticPosition=this.webgl.currentSceneParams.cameraPosition,this.webgl.cameraTarget=this.webgl.currentSceneParams.cameraTarget;var e=this.webgl.mouse2D.x*this.movementIntensity,t=this.webgl.mouse2D.y*this.movementIntensity;this.easeTarget.x+=(e-this.easeTarget.x)*this.ease,this.easeTarget.y+=(t-this.easeTarget.y)*this.ease,this.easeTarget.z+=(e-this.easeTarget.z)*this.ease,this.webgl.camera.position.x=this.staticPosition.x-this.easeTarget.x,this.webgl.camera.position.y=this.staticPosition.y-this.easeTarget.y,this.webgl.camera.position.z=this.staticPosition.z-this.easeTarget.z,this.webgl.camera.lookAt(this.webgl.cameraTarget.x,this.webgl.cameraTarget.y,this.webgl.cameraTarget.z)}}}])&&Ze(t.prototype,n),r&&Ze(t,r),e}(),tt=n(138),nt=n.n(tt),rt=n(1),ot=n(28);function at(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function it(e,t,n){return st.apply(this,arguments)}function st(){var e;return e=regeneratorRuntime.mark(function e(t,n,r){var o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.DEBUG){e.next=2;break}return e.abrupt("return");case 2:return t.camera.inTransition=!0,r/=1e3,"power4.inOut",o=t.scenesParams[n],a={x:t.cameraTarget.x,y:t.cameraTarget.y,z:t.cameraTarget.z},rt.d.to(a,{x:o.cameraTarget.x,y:o.cameraTarget.y,z:o.cameraTarget.z,duration:r,ease:"power4.inOut"}),i=rt.d.to(t.camera.position,{x:o.cameraPosition.x,y:o.cameraPosition.y,z:o.cameraPosition.z,onUpdate:function(){t.camera.lookAt(a.x,a.y,a.z)},onComplete:function(){},duration:r,ease:"power4.inOut"}),e.next=11,i;case 11:case"end":return e.stop()}},e)}),(st=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){at(a,r,o,i,s,"next",e)}function s(e){at(a,r,o,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}function ct(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ft(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){lt(a,r,o,i,s,"next",e)}function s(e){lt(a,r,o,i,s,"throw",e)}i(void 0)})}}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ht=n(205),mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.webglDuration=2e3,this.screenDuration=.5}var t,n,r,o,a,i,s;return t=e,(n=[{key:"screenIn",value:(s=ft(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)})},{key:"screenOut",value:(i=ft(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementsByClassName("loading-screen")[0],n=rt.d.to(t,{opacity:0,duration:this.screenDuration,ease:"Linear.easeNone"}),e.next=4,n;case 4:t.style.display="none",t.style.opacity=1;case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"leave",value:(a=ft(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,c,u,l,f,p,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(){var e=xe.renderer.domElement.toDataURL("image/png"),t=document.getElementsByClassName("loading-screen")[0];t.src=e,t.style.display="block"},h=function(){return(h=ft(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:xe.currentScene=xe.scenes[f],xe.currentSceneParams=xe.scenesParams[f],xe.camera.inTransition=!1;case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},p=function(){return h.apply(this,arguments)},this,n=t.current.container.querySelectorAll("h1"))for(r=0;r<n.length;r++)o=n[r],ht(o),a=ct(o.querySelectorAll("span")),new rt.c({}).staggerFromTo(a,.4,{opacity:1,y:0},{opacity:0,y:25},.04);if(i=t.current.container.querySelectorAll("a"))for(r=0;r<i.length;r++)o=i[r],ht(o),a=ct(o.querySelectorAll("span")),new rt.c({}).staggerFromTo(a,.5,{opacity:1},{opacity:0},.02);if(s=t.current.container.querySelectorAll("h3"))for(r=0;r<s.length;r++)o=s[r],ht(o),a=ct(o.querySelectorAll("span")),new rt.c({}).staggerFromTo(a,.4,{opacity:1,y:0},{opacity:0,y:25},.01);if(c=t.current.container.querySelectorAll("h2"))for(r=0;r<c.length;r++)o=c[r],ot.a.to(o,.5,{opacity:0});if(u=t.current.container.querySelectorAll("p"))for(r=0;r<u.length;r++)o=u[r],ot.a.to(o,.5,{opacity:0});return(l=t.current.container)&&ot.a.to(l,.8,{delay:.5,opacity:0}),f=null,console.log(xe),f="back"==t.trigger?xe.previousScenes.pop():t.trigger.dataset.scene,e.next=21,it(xe,f,this.webglDuration);case 21:return e.next=23,p();case 23:m();case 24:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"enter",value:(o=ft(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.screenOut();case 1:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})}])&&pt(t.prototype,n),r&&pt(t,r),e}();function dt(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function yt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){dt(a,r,o,i,s,"next",e)}function s(e){dt(a,r,o,i,s,"throw",e)}i(void 0)})}}window.DEBUG=window.location.search.includes("debug"),xe.canvas.style.visibility="hidden",L.load({renderer:xe.renderer}).then(function(){xe.canvas.style.visibility="",window.WEBGL=!0,xe.previousSceneKeyTemp="landingScene";var e=new mt;nt.a.init({debug:!0,preventRunning:!0,transitions:[{name:"default-transition",beforeLeave:function(e){return yt(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"forward"==e.trigger?window.location.href="../":"back"!=e.trigger&&(xe.previousSceneKeyTemp=xe.currentSceneParams.sceneKey,xe.previousScenes.push(xe.previousSceneKeyTemp));case 1:case"end":return t.stop()}},t)}))()},leave:function(t){return yt(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.leave(t);case 2:case"end":return n.stop()}},n)}))()},enter:function(t){return yt(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.enter(t);case 2:case"end":return n.stop()}},n)}))()},afterEnter:function(e){return yt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}}],views:[{namespace:"home",beforeEnter:function(e){return yt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Fe.postprocessing();case 1:case"end":return e.stop()}},e)}))()}},{namespace:"about",beforeEnter:function(e){return yt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Je.postprocessing();case 1:case"end":return e.stop()}},e)}))()}},{namespace:"work",beforeEnter:function(e){return yt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ye.postprocessing();case 1:case"end":return e.stop()}},e)}))()}},{namespace:"contact",beforeEnter:function(e){return yt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Qe.postprocessing();case 1:case"end":return e.stop()}},e)}))()}}]}),xe.currentScene=xe.scenes.landingScene,xe.currentSceneParams=xe.scenesParams.landingScene,Fe.postprocessing();new et(xe);console.log(xe),xe.start(),xe.draw()})}});
//# sourceMappingURL=app.00b008f7.js.map